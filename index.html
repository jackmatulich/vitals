<!DOCTYPE html>
<html>

<head>
  <style>


  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="//dweet.io/client/dweet.io.min.js"></script>



</head>

<body onload="startTime()">

  <script>
    function startTime() {
      const today = new Date();
      let h = today.getHours();
      let m = today.getMinutes();
      let s = today.getSeconds();

      m = checkTime(m);
      s = checkTime(s);
      document.getElementById('time').innerHTML = h + ":" + m + ":" + s;
      setTimeout(startTime, 1000);
    }

    function checkTime(i) {
      if (i < 10) { i = "0" + i };  // add zero in front of numbers < 10
      return i;

    }


  </script>

  <table>
    <tr>
      <td width="85%" style="color:white;font-size:2em;background:black;" colspan="6"></td>
      <td class="td" style="color:white;font-size:1.5em;background:black; text-align:right;"><span id='time'></span>
      </td>
    </tr>

    <tr>
      <td width="85%" rowspan="2" class="waveform" colspan="6">
        <canvas id="ecg" width="1500" height="100px"></canvas>
      </td>
      <td height="15px" class="td heads">ECG &nbsp &nbsp<span class="ecg" style="font-weight:normal;">/min</span></td>
    </tr>
    <tr>
      <td class="td ecg" style="font-size:7em;"><span id="HeartRate"></span></td>
    </tr>



    <tr>
      <td rowspan="2" class="waveform" colspan="6">
        <canvas id="spo2" width="1500" height="100px"></canvas>
      </td>
      <td class="td heads">spO2 &nbsp &nbsp<span class="spo2" style="font-weight:normal;">%</span></td>
    </tr>
    <tr>
      <td class="td spo2" style="font-size:6em"><span id="Spo2"></td>
    </tr>


    <tr>
      <td rowspan="2" class="waveform" colspan="6">
        <canvas id="iabp" width="1500" height="200px"></canvas>
      </td>
      <td class="td heads">IABP &nbsp &nbsp<span class="art" style="font-weight:normal;">mmHg</span></td>
    </tr>
    <tr>
      <td class="td art MAP" style="font-size:4em;">
        <span id="sbp"></span>/<span id="dbp"></span>
        <br class="MAP" style="font-size:.6em;">(<span id="MAP"></span>)</td>
    </tr>


    <tr style="display:none;">
      <td rowspan="2" class="waveform" colspan="6">
        <canvas id="cvp" width="1500" height="100px"></canvas>
      </td>
      <td class="td heads">CVP &nbsp &nbsp<span class="cvp" style="font-weight:normal;">mmHg</span></td>
    </tr>
    <tr style="display:none;">
      <td class="td cvp"><span id="CVP"></td>
    </tr>




    <tr>
      <td rowspan="2" class="waveform" colspan="6">
        <canvas id="co2" width="1500" height="100px"></canvas>
      </td>
      <td class="td heads">etCO2 &nbsp &nbsp<span class="co2" style="font-weight:normal;">mmHg</span></td>
    </tr>
    <tr>
      <td class="td co2"><span id="etCO2"></td>
    </tr>




    <tr class="menu" height="30">
      <td width="10%" class="menu" style="font-weight:boldm;"><i class="fa fa-power-off" style="font-size:36px"></i>
      </td>

      <td width="15%" class="menu" style="font-size:1.2em;">START <br>NIBP</td>
      <td width="15%" class="menu" style="font-size:1.2em;">CYCLE <br>NIBP</td>
      <td width="15%" class="menu" style="font-size:1.2em;">5 <br> MIN</td>
      <td width="15%" class="menu" style="font-size:1.2em;">12 <br> LEAD</td>
      <td width="15%" class="menu" style="font-size:2em;">☰</td>
      <td width="15%" class="alarm">☖</td>

      <script>
        var speed = 5;
        var ecgDisplay = 1;
        var hrRaw = 60;
        var hr = 60;
        var rhythm = 1;
        var ectopy = 0;
        var ectopyF = 0;


        var spo2Display = 1;
        var spo2Raw = 98;
        var spo2digit = 98;

        var iabpDisplay = 1;
        var sbpRaw = 120;
        var dbpRaw = 60;
        var sbp = 120;
        var dbp = 60;
        var map;

        var cvpDisplay = 1;
        var cvpRaw = 10;
        var cvpdigit = 10;

        var co2Display = 1;
        var co2Raw;
        var co2Digit=35;
        var resprate;
        var co2waveform;





        dweetio.listen_for("jacktester", function (dweet) {

          dweetio.get_latest_dweet_for("jacktester", function (err, dweet) {

            var dweet = dweet[0]; // Dweet is always an array of 1


            console.log("hello"); // The generated name
            hrRaw = parseInt(dweet.content["hr"]);
            ecgDisplay = parseInt(dweet.content["ecgDisplay"]);
            rhythm = parseInt(dweet.content["rhythm"]);
            ectopy = parseInt(dweet.content["ectopy"]);
            ectopyF = parseInt(dweet.content["ectopyF"]);


            spo2Display = parseInt(dweet.content["spo2Display"]);
            spo2Raw = parseInt(dweet.content["spo2Raw"]);

            iabpDisplay = parseInt(dweet.content["iabpDisplay"]);
            sbpRaw = parseInt(dweet.content["sbp"]);
            dbpRaw = parseInt(dweet.content["dbp"]);

            cvpDisplay = parseInt(dweet.content["cvpDisplay"]);
            cvpRaw = parseInt(dweet.content["cvpRaw"]);

            co2Display = parseInt(dweet.content["co2Display"]);
            co2Raw = parseInt(dweet.content["co2Raw"]);
            resprate = parseInt(dweet.content["resprate"]);
            co2waveform = parseInt(dweet.content["co2waveform"]);



          });



          console.log(hr);
        });

        setInterval(ecgRandom, 3000);

        function ecgRandom() {
          var variability = (Math.floor(Math.random() * 7) - 3);
          console.log(variability);

          hr = variability + hrRaw;
          document.getElementById("HeartRate").innerHTML = hr;

          spo2digit = variability + spo2Raw;
          document.getElementById("Spo2").innerHTML = spo2digit;

          sbp = variability + sbpRaw;
          dbp = variability + dbpRaw;
          map = ((2*sbp)+dbp)/3;
          document.getElementById("sbp").innerHTML = sbp;
          document.getElementById("dbp").innerHTML = dbp;
          document.getElementById("MAP").innerHTML = map;

          cvpDigit = variability + cvpRaw;
          document.getElementById("CVP").innerHTML = cvpDigit;
          
          co2Digit = variability + co2Raw;
          document.getElementById("etCO2").innerHTML = co2Digit;

        }
        var standbyData = ["1,1,1,1,1,1,1,1,1,1,,,,,,,,,,,"];
        var EcgData = ["1127,1213,1299,1389,1500,1625,1760,1896,2044,2208,2377,2567,2764,2958,3164,3371,3576,3788,4000,4198,4384,4557,4711,4844,4960,5029,5091,5118,5118,5096,5042,4957,4850,4723,4566,4399,4219,4024,3824,3617,3397,3170,2965,2767,2551,2337,2139,1958,1798,1656,1493,1334,1192,1048,880,685,467,224,-41,-330,-629,-915,-1137,-1265,-1279,-1135,-736,-66,938,2190,3648,5257,6956,8687,10325,11722,12785,13483,13811,13702,13185,12197,10793,9127,7288,5387,3509,1767,230,-988,-1878,-2455,-2767,-2836,-2711,-2415,-2035,-1626,-1212,-821,-458,-144,111,289,438,572,695,791,872,948,1023,1114,1205,1293,1379,1481,1599,1715,1856,2002,2141,2295,2457,2612,2779,2964,3142,3321,3512,3688,3880,4088,4291,4491,4698,4902,5118,5342,5537,5731,5925,6113,6279,6438,6581,6719,6875,7012,7135,7239,7342,7411,7457,7467,7445,7392,7324,7235,7125,6996,6865,6730,6578,6417,6240,6048,5844,5641,5433,5213,4985,4753,4524,4291,4062,3833,3606,3389,3185,2981,2770,2576,2397,2227,2055,1886,1712,1548,1417,1288,1160,1031,916,804,722,642,551,479,415,368,319,278,237,206,189,169,147,132,129,125"];

        var Spo2Data = ["421.48,433.90,722.66,1043.59,1602.85,2277.06,2803.77,3466.47,4190.46,4859.54,5510.96,6334.97,6868.96,7608.16,8201.84,8870.40,9576.71,10283.03,10777.08,11313.14,11747.72,12181.45,12761.80,13366.61,14036.89,14752.20,15259.63,15827.27,16324.09,16749.28,17491.49,18300.37,18881.60,19754.37,20687.17,21259.19,21903.12,22522.29,22933.91,23293.82,23626.17,23926.67,24241.28,24535.98,24779.63,25032.95,25343.69,25682.77,25993.19,26307.40,26574.13,26820.85,26976.95,27057.98,27093.86,27100.17,27033.40,26887.93,26766.41,26686.11,26492.65,26272.21,26072.40,25806.00,25472.52,25222.99,24854.31,24511.27,24215.32,23837.58,23457.27,23205.42,22960.60,22618.68,22375.59,22095.93,21758.21,21434.15,21092.50,20795.57,20561.33,20369.85,20115.45,19975.72,19791.27,19576.36,19379.69,19234.13,19067.68,18917.81,18762.09,18610.39,18498.25,18434.09,18404.00,18474.79,18596.25,18713.42,18821.52,18915.99,18990.01,19051.12,19124.17,19215.17,19313.36,19405.25,19482.63,19520.79,19493.82,19431.62,19332.64,19194.15,19133.50,18967.57,18783.12,18597.52,18416.04,18141.61,17982.41,17805.41,17577.12,17306.09,16910.35,16560.65,16200.17,15873.39,15597.10,15424.10,15178.92,14947.10,14723.13,14486.82,14272.76,14084.03,13915.20,13750.64,13592.61,13413.72,13186.31,12966.53,12667.54,12333.07,11979.98,11674.06,11374.35,11126.10,10898.10,10714.75,10528.07,10305.28,10069.73,9872.75,9681.54,9485.82,9417.35,9239.29,9043.43,8811.02,8586.08,8270.00,8107.74,7924.61,7740.89,7549.21,7348.19,7162.15,7065.00,6864.31,6673.59,6469.65,6257.70,5998.13,5884.98,5751.07,5575.69,5407.07,5141.63,4875.12,4641.96,4468.27,4281.98,4175.90,4074.12,3982.30,3935.55,3801.42,3673.56,3529.49,3373.14,3188.69,3103.23,3014.08,2936.01,2856.27,2748.30,2603.49,2424.98,2240.53,2058.23,1890.24,1758.21,1661.47,1571.00,1485.03,1410.07,1333.64,147.00,132.00,129.00,125.00"
        ];
        var IabpData = ["421.48,433.90,722.66,1043.59,1602.85,2277.06,2803.77,3466.47,4190.46,4859.54,5510.96,6334.97,6868.96,7608.16,8201.84,8870.40,9576.71,10283.03,10777.08,11313.14,11747.72,12181.45,12761.80,13366.61,14036.89,14752.20,15259.63,15827.27,16324.09,16749.28,17491.49,18300.37,18881.60,19754.37,20687.17,21259.19,21903.12,22522.29,22933.91,23293.82,23626.17,23926.67,24241.28,24535.98,24779.63,25032.95,25343.69,25682.77,25993.19,26307.40,26574.13,26820.85,26976.95,27057.98,27093.86,27100.17,27033.40,26887.93,26766.41,26686.11,26492.65,26272.21,26072.40,25806.00,25472.52,25222.99,24854.31,24511.27,24215.32,23837.58,23457.27,23205.42,22960.60,22618.68,22375.59,22095.93,21758.21,21434.15,21092.50,20795.57,20561.33,20369.85,20115.45,19975.72,19791.27,19576.36,19379.69,19234.13,19067.68,18917.81,18762.09,18610.39,18498.25,18434.09,18404.00,18474.79,18596.25,18713.42,18821.52,18915.99,18990.01,19051.12,19124.17,19215.17,19313.36,19405.25,19482.63,19520.79,19493.82,19431.62,19332.64,19194.15,19133.50,18967.57,18783.12,18597.52,18416.04,18141.61,17982.41,17805.41,17577.12,17306.09,16910.35,16560.65,16200.17,15873.39,15597.10,15424.10,15178.92,14947.10,14723.13,14486.82,14272.76,14084.03,13915.20,13750.64,13592.61,13413.72,13186.31,12966.53,12667.54,12333.07,11979.98,11674.06,11374.35,11126.10,10898.10,10714.75,10528.07,10305.28,10069.73,9872.75,9681.54,9485.82,9417.35,9239.29,9043.43,8811.02,8586.08,8270.00,8107.74,7924.61,7740.89,7549.21,7348.19,7162.15,7065.00,6864.31,6673.59,6469.65,6257.70,5998.13,5884.98,5751.07,5575.69,5407.07,5141.63,4875.12,4641.96,4468.27,4281.98,4175.90,4074.12,3982.30,3935.55,3801.42,3673.56,3529.49,3373.14,3188.69,3103.23,3014.08,2936.01,2856.27,2748.30,2603.49,2424.98,2240.53,2058.23,1890.24,1758.21,1661.47,1571.00,1485.03,1410.07,1333.64,147.00,132.00,129.00,125.00"
        ];
        var CvpData = ["421.48,433.90,722.66,1043.59,1602.85,2277.06,2803.77,3466.47,4190.46,4859.54,5510.96,6334.97,6868.96,7608.16,8201.84,8870.40,9576.71,10283.03,10777.08,11313.14,11747.72,12181.45,12761.80,13366.61,14036.89,14752.20,15259.63,15827.27,16324.09,16749.28,17491.49,18300.37,18881.60,19754.37,20687.17,21259.19,21903.12,22522.29,22933.91,23293.82,23626.17,23926.67,24241.28,24535.98,24779.63,25032.95,25343.69,25682.77,25993.19,26307.40,26574.13,26820.85,26976.95,27057.98,27093.86,27100.17,27033.40,26887.93,26766.41,26686.11,26492.65,26272.21,26072.40,25806.00,25472.52,25222.99,24854.31,24511.27,24215.32,23837.58,23457.27,23205.42,22960.60,22618.68,22375.59,22095.93,21758.21,21434.15,21092.50,20795.57,20561.33,20369.85,20115.45,19975.72,19791.27,19576.36,19379.69,19234.13,19067.68,18917.81,18762.09,18610.39,18498.25,18434.09,18404.00,18474.79,18596.25,18713.42,18821.52,18915.99,18990.01,19051.12,19124.17,19215.17,19313.36,19405.25,19482.63,19520.79,19493.82,19431.62,19332.64,19194.15,19133.50,18967.57,18783.12,18597.52,18416.04,18141.61,17982.41,17805.41,17577.12,17306.09,16910.35,16560.65,16200.17,15873.39,15597.10,15424.10,15178.92,14947.10,14723.13,14486.82,14272.76,14084.03,13915.20,13750.64,13592.61,13413.72,13186.31,12966.53,12667.54,12333.07,11979.98,11674.06,11374.35,11126.10,10898.10,10714.75,10528.07,10305.28,10069.73,9872.75,9681.54,9485.82,9417.35,9239.29,9043.43,8811.02,8586.08,8270.00,8107.74,7924.61,7740.89,7549.21,7348.19,7162.15,7065.00,6864.31,6673.59,6469.65,6257.70,5998.13,5884.98,5751.07,5575.69,5407.07,5141.63,4875.12,4641.96,4468.27,4281.98,4175.90,4074.12,3982.30,3935.55,3801.42,3673.56,3529.49,3373.14,3188.69,3103.23,3014.08,2936.01,2856.27,2748.30,2603.49,2424.98,2240.53,2058.23,1890.24,1758.21,1661.47,1571.00,1485.03,1410.07,1333.64,147.00,132.00,129.00,125.00"
        ];
        var Co2Data = ["421.48,433.90,722.66,1043.59,1602.85,2277.06,2803.77,3466.47,4190.46,4859.54,5510.96,6334.97,6868.96,7608.16,8201.84,8870.40,9576.71,10283.03,10777.08,11313.14,11747.72,12181.45,12761.80,13366.61,14036.89,14752.20,15259.63,15827.27,16324.09,16749.28,17491.49,18300.37,18881.60,19754.37,20687.17,21259.19,21903.12,22522.29,22933.91,23293.82,23626.17,23926.67,24241.28,24535.98,24779.63,25032.95,25343.69,25682.77,25993.19,26307.40,26574.13,26820.85,26976.95,27057.98,27093.86,27100.17,27033.40,26887.93,26766.41,26686.11,26492.65,26272.21,26072.40,25806.00,25472.52,25222.99,24854.31,24511.27,24215.32,23837.58,23457.27,23205.42,22960.60,22618.68,22375.59,22095.93,21758.21,21434.15,21092.50,20795.57,20561.33,20369.85,20115.45,19975.72,19791.27,19576.36,19379.69,19234.13,19067.68,18917.81,18762.09,18610.39,18498.25,18434.09,18404.00,18474.79,18596.25,18713.42,18821.52,18915.99,18990.01,19051.12,19124.17,19215.17,19313.36,19405.25,19482.63,19520.79,19493.82,19431.62,19332.64,19194.15,19133.50,18967.57,18783.12,18597.52,18416.04,18141.61,17982.41,17805.41,17577.12,17306.09,16910.35,16560.65,16200.17,15873.39,15597.10,15424.10,15178.92,14947.10,14723.13,14486.82,14272.76,14084.03,13915.20,13750.64,13592.61,13413.72,13186.31,12966.53,12667.54,12333.07,11979.98,11674.06,11374.35,11126.10,10898.10,10714.75,10528.07,10305.28,10069.73,9872.75,9681.54,9485.82,9417.35,9239.29,9043.43,8811.02,8586.08,8270.00,8107.74,7924.61,7740.89,7549.21,7348.19,7162.15,7065.00,6864.31,6673.59,6469.65,6257.70,5998.13,5884.98,5751.07,5575.69,5407.07,5141.63,4875.12,4641.96,4468.27,4281.98,4175.90,4074.12,3982.30,3935.55,3801.42,3673.56,3529.49,3373.14,3188.69,3103.23,3014.08,2936.01,2856.27,2748.30,2603.49,2424.98,2240.53,2058.23,1890.24,1758.21,1661.47,1571.00,1485.03,1410.07,1333.64,147.00,132.00,129.00,125.00"
        ];
        /*Includes Constants*/
        var ecg_canvas = document.getElementById("ecg");
        var ecg_ctx = ecg.getContext("2d");
        var w = ecg.width,/*GENERIC*/
          ecg_h = ecg.height;

        /*GENERIC*/
        scanBarWidth = 20,/*GENERIC*/
          i = 0,/*GENERIC*/
          ecg_data = EcgData[0].split(','),
          ecg_color = '#00ff00';
        var px = 0;/*GENERIC*/
        var opx = 0;/*GENERIC*/
        var ecg_py = ecg_h / 2;
        var ecg_opy = ecg_py;
        ecg_ctx.strokeStyle = ecg_color;
        ecg_ctx.lineWidth = 3;
        ecg_ctx.setTransform(1, 0, 0, -1, 0, ecg_h);





        var spo2_canvas = document.getElementById("spo2");
        var spo2_ctx = spo2.getContext("2d");
        var spo2_w = spo2.width,
          spo2_h = spo2.height,
          spo2_i = 0,
          spo2_data = Spo2Data[0].split(','),
          spo2_color = 'deeppink';
        var spo2_px = 0;
        var spo2_opx = 0;
        var spo2_py = spo2_h / 2; /* should equal 50 if height 100px */
        var spo2_opy = spo2_py; /* should equal 50 if height 100px */
        spo2_ctx.strokeStyle = spo2_color;
        spo2_ctx.lineWidth = 3;
        spo2_ctx.setTransform(1, 0, 0, -1, 0, spo2_h);
        var iabp_canvas = document.getElementById("iabp");
        var iabp_ctx = iabp.getContext("2d");
        var iabp_w = iabp.width,
          iabp_h = iabp.height,
          iabp_i = 0,
          iabp_data = IabpData[0].split(','),
          iabp_color = 'red';
        var iabp_px = 0;
        var iabp_opx = 0;
        var iabp_py = iabp_h / 2; /* should equal 50 if height 100px */
        var iabp_opy = iabp_py; /* should equal 50 if height 100px */
        iabp_ctx.strokeStyle = iabp_color;
        iabp_ctx.lineWidth = 3;
        iabp_ctx.setTransform(1, 0, 0, -1, 0, iabp_h);
        var cvp_canvas = document.getElementById("cvp");
        var cvp_ctx = cvp.getContext("2d");
        var cvp_w = cvp.width,
          cvp_h = cvp.height,
          cvp_i = 0,
          cvp_data = CvpData[0].split(','),
          cvp_color = 'cornflowerblue';
        var cvp_px = 0;
        var cvp_opx = 0;
        var cvp_py = cvp_h / 2; /* should equal 50 if height 100px */
        var cvp_opy = cvp_py; /* should equal 50 if height 100px */
        cvp_ctx.strokeStyle = cvp_color;
        cvp_ctx.lineWidth = 3;
        cvp_ctx.setTransform(1, 0, 0, -1, 0, cvp_h);

        var co2_canvas = document.getElementById("co2");
        var co2_ctx = co2.getContext("2d");
        var co2_w = co2.width,
          co2_h = co2.height,
          co2_i = 0,
          co2_data = Co2Data[0].split(','),
          co2_color = 'gold';
        var co2_px = 0;
        var co2_opx = 0;
        var co2_py = co2_h / 2; /* should equal 50 if height 100px */
        var co2_opy = co2_py; /* should equal 50 if height 100px */
        co2_ctx.strokeStyle = co2_color;
        co2_ctx.lineWidth = 3;
        co2_ctx.setTransform(1, 0, 0, -1, 0, co2_h);



        drawWave();

        function drawWave() {
          setTimeout(function () {
            px += speed;  /* adds the value to the right to the variable on the left px(0)+speed (1)=0 */ /*GENERIC*/


            ecg_ctx.clearRect(px, 0, scanBarWidth, ecg_h);/* (x coord of upper left, y coord of upper left, width in px, heigh in px) */ /*SPECIFIC*/
            spo2_ctx.clearRect(px, 0, scanBarWidth, spo2_h);
            iabp_ctx.clearRect(px, 0, scanBarWidth, iabp_h);
            cvp_ctx.clearRect(px, 0, scanBarWidth, cvp_h);
            co2_ctx.clearRect(px, 0, scanBarWidth, co2_h);



            /* starts the line OR resets */ /*SPECIFIC*/
            ecg_ctx.beginPath();
            spo2_ctx.beginPath();
            iabp_ctx.beginPath();
            cvp_ctx.beginPath();
            co2_ctx.beginPath();

            /* moves point to XY */ /*SPECIFIC*/
            ecg_ctx.moveTo(opx, ecg_opy);
            spo2_ctx.moveTo(opx, spo2_opy);
            iabp_ctx.moveTo(opx, iabp_opy);
            cvp_ctx.moveTo(opx, cvp_opy);
            co2_ctx.moveTo(opx, co2_opy);

            /* rounds the join */ /*SPECIFIC*/
            ecg_ctx.lineJoin = 'round';
            spo2_ctx.lineJoin = 'round';
            iabp_ctx.lineJoin = 'round';
            cvp_ctx.lineJoin = 'round';
            co2_ctx.lineJoin = 'round';

            /*SPECIFIC*/
            ecg_py = (ecg_data[++i >= ecg_data.length ? i = 0 : i++] / 450 + 30);
            spo2_py = (spo2_data[++i >= spo2_data.length ? i = 0 : i++] / 450 + 30);
            iabp_py = (iabp_data[++i >= iabp_data.length ? i = 0 : i++] / 450 + 30);
            cvp_py = (cvp_data[++i >= cvp_data.length ? i = 0 : i++] / 450 + 30);
            co2_py = (co2_data[++i >= co2_data.length ? i = 0 : i++] / 450 + 30);

            /* and */
            ecg_ctx.lineTo(px, ecg_py);
            spo2_ctx.lineTo(px, spo2_py);
            iabp_ctx.lineTo(px, iabp_py);
            cvp_ctx.lineTo(px, cvp_py);
            co2_ctx.lineTo(px, co2_py);

            /* and */
            ecg_ctx.stroke();
            spo2_ctx.stroke();
            iabp_ctx.stroke();
            cvp_ctx.stroke();
            co2_ctx.stroke();

            opx = px;/* and */


            /* and */
            ecg_opy = ecg_py;
            spo2_opy = spo2_py;
            iabp_opy = iabp_py;
            cvp_opy = cvp_py;
            co2_opy = co2_py;

            if (opx > w) { px = opx = -speed; }/* and */
            requestAnimationFrame(drawWave);
          }, 40)
        }


      </script>
    </tr>
  </table>

</body>

</html>