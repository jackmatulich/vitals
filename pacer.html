<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="pacer.css">


    </head>
<body>

<h1>My First JavaScript</h1>

<canvas id="ecg" width="1500" height="100px"></canvas>

<div>
    <h2>Rate    <span id="Rate"></span></h2>
   
    <button onclick="Rplus()">+5</button>
    <button onclick="Rminus()">-5</button>


</div>


<div>
    <h2>Atria Output    <span id="Aoutput"></span></h2>
    
    <button onclick="Aoplus()">+1</button>
    <button onclick="Aominus()">-1</button>

</div>
<div>
    <h2>Ventricular Output  <span id="Voutput"></span></h2>
    
    <button onclick="Voplus()">+1</button>
    <button onclick="Vominus()">-1</button>

</div>

<div>
    <h2>Atria Sensitivity   <span id="Asense"></span></h2>
    
    <button onclick="Asplus()">+1</button>
    <button onclick="Asminus()">-1</button>

</div>

<div>
    <h2>Ventricular Sensitivity <span id="Vsense"></span></h2>
    
    <button onclick="Vsplus()">+1</button>
    <button onclick="Vsminus()">-1</button>
</div>

<script>
let Rate = 70; 
let Ao = 0; 
let As = 0; 
let Vo = 0; 
let Vs = 0; 
document.getElementById("Rate").textContent = Rate; 
document.getElementById("Aoutput").textContent = Ao; 
document.getElementById("Asense").textContent = As; 
document.getElementById("Voutput").textContent = Vo; 
document.getElementById("Vsense").textContent = Vs; 

function Rplus() { 
     Rate=Rate+5; 
     document.getElementById("Rate").textContent = Rate; 

 } 
 function Rminus() { 
    Rate=Rate-5; 
     document.getElementById("Rate").textContent = Rate; 

 } 


 function Aoplus() { 
     Ao++; 
     document.getElementById("Aoutput").textContent = Ao; 

 } 
 function Aominus() { 
     Ao--; 
     document.getElementById("Aoutput").textContent = Ao; 
 } 

 function Asplus() { 
     As++; 
     document.getElementById("Asense").textContent = As; 
 } 
 function Asminus() { 
     As--; 
     document.getElementById("Asense").textContent = As; 
 } 
 function Voplus() { 
     Vo++; 
     document.getElementById("Voutput").textContent = Vo; 
 } 
 function Vominus() { 
     Vo--; 
     document.getElementById("Voutput").textContent = Vo; 
 } 

 function Vsplus() { 
     Vs++; 
     document.getElementById("Vsense").textContent = Vs; 
 } 
 function Vsminus() { 
     Vs--; 
     document.getElementById("Vsense").textContent = Vs; 
 } 

 var speed = 5;

 var EcgData = ["1127,1213,1299,1389,1500,1625,1760,1896,2044,2208,2377,2567,2764,2958,3164,3371,3576,3788,4000,4198,4384,4557,4711,4844,4960,5029,5091,5118,5118,5096,5042,4957,4850,4723,4566,4399,4219,4024,3824,3617,3397,3170,2965,2767,2551,2337,2139,1958,1798,1656,1493,1334,1192,1048,880,685,467,224,-41,-330,-629,-915,-1137,-1265,-1279,-1135,-736,-66,938,2190,3648,5257,6956,8687,10325,11722,12785,13483,13811,13702,13185,12197,10793,9127,7288,5387,3509,1767,230,-988,-1878,-2455,-2767,-2836,-2711,-2415,-2035,-1626,-1212,-821,-458,-144,111,289,438,572,695,791,872,948,1023,1114,1205,1293,1379,1481,1599,1715,1856,2002,2141,2295,2457,2612,2779,2964,3142,3321,3512,3688,3880,4088,4291,4491,4698,4902,5118,5342,5537,5731,5925,6113,6279,6438,6581,6719,6875,7012,7135,7239,7342,7411,7457,7467,7445,7392,7324,7235,7125,6996,6865,6730,6578,6417,6240,6048,5844,5641,5433,5213,4985,4753,4524,4291,4062,3833,3606,3389,3185,2981,2770,2576,2397,2227,2055,1886,1712,1548,1417,1288,1160,1031,916,804,722,642,551,479,415,368,319,278,237,206,189,169,147,132,129,125"];

 var ecg_canvas = document.getElementById("ecg");
        var ecg_ctx = ecg.getContext("2d");
        var w = ecg.width,/*GENERIC*/
          ecg_h = ecg.height;

        /*GENERIC*/
        scanBarWidth = 20,/*GENERIC*/
          i = 0,/*GENERIC*/
          ecg_data = EcgData[0].split(','),
          ecg_color = '#00ff00';
        var px = 0;/*GENERIC*/
        var opx = 0;/*GENERIC*/
        var ecg_py = ecg_h / 2;
        var ecg_opy = ecg_py;
        ecg_ctx.strokeStyle = ecg_color;
        ecg_ctx.lineWidth = 3;
        ecg_ctx.setTransform(1, 0, 0, -1, 0, ecg_h);
        drawWave();

function drawWave() {
  setTimeout(function () {
    px += speed;  /* adds the value to the right to the variable on the left px(0)+speed (1)=0 */ /*GENERIC*/


    ecg_ctx.clearRect(px, 0, scanBarWidth, ecg_h);/* (x coord of upper left, y coord of upper left, width in px, heigh in px) */ /*SPECIFIC*/


    /* starts the line OR resets */ /*SPECIFIC*/
    ecg_ctx.beginPath();


    /* moves point to XY */ /*SPECIFIC*/
    ecg_ctx.moveTo(opx, ecg_opy);
 

    /* rounds the join */ /*SPECIFIC*/
    ecg_ctx.lineJoin = 'round';
 

    /*SPECIFIC*/
    ecg_py = (ecg_data[++i >= ecg_data.length ? i = 0 : i++] / 450 + 30);
  

    /* and */
    ecg_ctx.lineTo(px, ecg_py);
  

    /* and */
    ecg_ctx.stroke();
 

    opx = px;/* and */


    /* and */
    ecg_opy = ecg_py;

    if (opx > w) { px = opx = -speed; }/* and */
    requestAnimationFrame(drawWave);
  }, 40)
}

</script>


</body>
</html> 

